{
    instances = {
        byfileidname = DataReader(f"queries/GetFile.sql", connection = "agfiles") {
            none->HttpStatus(404) {
                next->Translation(f"templates-%s/404.html", locales = ["en", "nl"]);
            };
            single->ReadFromFile(
                pathvariable = "path",
                rootpath = f"storage",
                isrelative = true
            ) {
                header->HttpContent();
            };
        };

        byfileidnamecached = ConcatCache(lifetime = "2s", keynames = ["filename", "fileid"]) {
            begin->instances.byfileidname;
        };
    };
}
